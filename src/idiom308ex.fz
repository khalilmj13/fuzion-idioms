ex308 is

  int_to_base_str(n, b) =>
    _int_to_base_str(n, b) =>
      digits := ["0","1","2","3","4","5","6","7","8","9","a","b",
                 "c","d","e","f","g","h","i","j","k","l","m","n",
                 "o","p","q","r","s","t","u","v","w","x","y","z"]

      if n=0 ""
      else (_int_to_base_str n/b b) + digits[n%b]

    if n=0 "0"
    else _int_to_base_str n b

  test_pairs := [(2, 2),
                 (7, 2),
                 (31, 16),
                 (12, 8),
                 (0, 123456),
                 (42, 10),]

  for t in test_pairs do
    (n, b) := t
    s := int_to_base_str n b
    say "$n in base $b is \"$s\""
